<!DOCTYPE html>
<html>
<head>
	<title>Расписание занятий ЮРГПУ (НПИ)</title>
	<meta charset="utf-8" />

	<link rel="stylesheet" type="text/css" href="~/css/style.css" />
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="https://unpkg.com/http-vue-loader"></script>
	<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="https://unpkg.com/vuex@3.1.0/dist/vuex.js"></script>
</head>
<body>
	<div id="app">
		<common-title></common-title>
		<common-menu></common-menu>
		<common-content></common-content>
		<common-footer></common-footer>
	</div>

	<script>
		const store = new Vuex.Store({
			state: {
				firstName: '',
				secondName: '',
				token: '',
				count: 0
			},
			mutations: {
				increment: function (state) {
					state.count++;
				}
			}
		});

		new Vue({
			el: "#app",
			store,
			components: {
				'common-title': httpVueLoader('/js/components/common/common-title.vue'),
				'common-menu': httpVueLoader('/js/components/common/common-menu.vue'),
				'common-content': httpVueLoader('/js/components/common/common-content.vue'),
				'common-footer': httpVueLoader('/js/components/common/common-footer.vue')
			},
			router: new VueRouter({
				mode: 'history',
				routes: [
					{ path: '/', redirect: '/index' },
					{ path: '/index', component: httpVueLoader('/js/components/main/main-component.vue') },

					{ path: '/faculties', component: httpVueLoader('/js/components/schedule/faculties-component.vue') },
					{ path: '/faculties/:facultyId/courses', component: httpVueLoader('/js/components/schedule/courses-component.vue') },
					{ path: '/faculties/:facultyId/courses/:courseNumber/groups', component: httpVueLoader('/js/components/schedule/groups-component.vue') },
					{ path: '/faculties/:facultyId/courses/:courseNumber/groups/:groupId/schedule', component: httpVueLoader('/js/components/schedule/schedule-component.vue') },

					{ path: '/teachers', component: httpVueLoader('/js/components/teachers/teachers-component.vue') },

					{ path: '/administration', component: httpVueLoader('/js/components/administration/administration-component.vue') },
					{ path: '/administration/faculties', component: httpVueLoader('/js/components/administration/edit-faculties-component.vue') },
					{ path: '/administration/departments', component: httpVueLoader('/js/components/administration/edit-departments-component.vue') },					

					{ path: '/login', component: httpVueLoader('/js/components/login/login-component.vue') },
					{ path: '*', redirect: '/index' }
				]
			})
		});
	</script>
</body>
</html>